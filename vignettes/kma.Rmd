---
title: "Computing Intron Retention With Keep Me Around (kma_ir)"
author: "Harold Pimentel"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

This vignette described how to run the Keep Me Around - Intron Retention
`kma_ir` suite to compute intron retention in RNA-Seq experiments.

# General pipeline

The general pipeline is as follows:

1. **Preprocess** to generate intron coordinates and sequences
1. **Quantify** transcript expression using
   [eXpress](http://bio.math.berkeley.edu/eXpress/) against augmented
   transcriptome containing introns
1. **Postprocess** to compute intron retention using `R` package

**TODO: Put a more detailed flowchart here**

# Installing

There are two required portions of the tool to perform intron retention
quantification. The **preprocess** step is written in python

## Installing the preprocessing tools



## Installing the quantification tools

The tools needed for quantification are:

- [Bowtie 2](http://bowtie-bio.sourceforge.net/bowtie2/) short read aligner
- [eXpress](http://bio.math.berkeley.edu/eXpress/) RNA-Seq quantification tool

Please see the corresponding documentation on their respective web pages.

## Installing the postprocessing tools

The postprocessing tools are contained in an `R` packaged called `kma_ir`.
Currently, the latest package is on
[Github](http://github.com/pachterlab/kma_ir). To install, make sure you have
the `devtools` package installed and type

```{r, eval=FALSE}
devtools::install_github("http://github.com/pachterlab/kma_ir")
```

# Generate intron coordinates

First, gather the required inputs:

- An **annotation file** in [GTF
  format](http://www.ensembl.org/info/website/upload/gff.html)
- Corresponding **genome file** in [Multi-FASTA
  format](http://en.wikipedia.org/wiki/FASTA_format) where contig names
  correspond to the GTF file

Outputs:

- **introns.fa** - a FASTA file containing the intron sequences
- **introns.bed** - BED file with coordinates used to quantify intron
- **intron\_to\_transcripts.txt** - used later
